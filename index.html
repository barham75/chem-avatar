<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ù…Ø¤ØªÙ…Ø± Ø§Ù„Ø¹Ù„Ù…ÙŠ Ù„Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡</title>

  <style>
    body {
      margin: 0;
      font-family: Tahoma, Arial, sans-serif;
      direction: rtl;
      background: #020617;
      color: #e5e7eb;
    }

    /* ===========================
        Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© + Ø§Ù„Ø´Ø¹Ø§Ø±
    ==============================*/
    .top-header {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 10px 20px;
      background: #020617;
      border-bottom: 1px solid #1e293b;
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .top-header img {
      height: 65px;
      border-radius: 10px;
    }

    .main-title {
      font-size: 20px;
      font-weight: bold;
    }

    .sub-title {
      font-size: 13px;
      color: #94a3b8;
    }

    .container {
      max-width: 960px;
      margin: 0 auto;
      padding: 20px;
    }

    /* ===========================
          Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª
    ==============================*/
    .icon-row {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      justify-content: center;
      margin-bottom: 30px;
    }

    .icon-card {
      background: #0f172a;
      border-radius: 18px;
      padding: 16px;
      width: 260px;
      text-align: center;
      cursor: pointer;
      transition: 0.2s;
      box-shadow: 0 12px 26px rgba(0,0,0,0.45);
    }

    .icon-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 18px 36px rgba(0,0,0,0.65);
    }

    .icon-emoji {
      font-size: 40px;
      margin-bottom: 8px;
    }

    /* ===========================
              Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
    ==============================*/
    .section {
      display: none;
      padding: 20px;
      background: #0f172a;
      border-radius: 16px;
      margin-bottom: 30px;
      border: 1px solid #1f2937;
    }

    .section.active {
      display: block;
    }

    /* ===========================
            Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø­Ø¶ÙˆØ±
    ==============================*/
    label {
      margin-bottom: 6px;
      display: block;
    }

    input[type="text"], input[type="email"] {
      width: 100%;
      padding: 10px;
      border-radius: 10px;
      border: none;
      outline: none;
      font-size: 15px;
    }

    button {
      padding: 10px 16px;
      border-radius: 10px;
      border: none;
      background: #22c55e;
      color: #020617;
      font-weight: bold;
      cursor: pointer;
      margin-top: 10px;
      font-size: 15px;
    }

    .msg { margin-top: 10px; font-size: 14px; }
    .msg.ok { color: #4ade80; }
    .msg.err { color: #f87171; }

    /* ===========================
        Ø£ÙØ§ØªØ§Ø± Ù…ØªØ­Ø±Ùƒ
    ==============================*/

    .avatar-wrapper {
      display: flex;
      gap: 15px;
      align-items: center;
      margin-bottom: 10px;
    }

    .avatar-animated {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: url('avatar.png') center/cover no-repeat;
      border: 3px solid #22c55e;
      position: relative;
      animation: avatarMove 3s infinite ease-in-out;
    }

    @keyframes avatarMove {
      0% { transform: translateX(0); }
      50% { transform: translateX(12px); }
      100% { transform: translateX(0); }
    }

    .chat-log {
      padding: 10px;
      height: 230px;
      background: #0f172a;
      border-radius: 10px;
      overflow-y: auto;
      border: 1px solid #1f2937;
    }

    .msg-user { color: #38bdf8; }
    .msg-bot-ar { color: #a5b4fc; }
    .msg-bot-en { color: #fbbf24; }

  </style>

  <script>
    function showSection(id) {
      document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    showSection('attendance');

    async function registerAttendance() {
      const name = document.getElementById('name').value.trim();
      const university = document.getElementById('university').value.trim();
      const email = document.getElementById('email').value.trim();
      const msg = document.getElementById('regMsg');

      msg.textContent = "";
      msg.className = "msg";

      if (!name || !university || !email) {
        msg.textContent = "Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„.";
        msg.classList.add("err");
        return;
      }

      try {
        const res = await fetch("/register", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ name, university, email })
        });

        const data = await res.json();

        if (data.ok) {
          msg.textContent = data.message;
          msg.classList.add("ok");
        } else {
          msg.textContent = data.message;
          msg.classList.add("err");
        }
      } catch {
        msg.textContent = "ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù….";
        msg.classList.add("err");
      }
    }

    function addMsg(txt, type) {
      const log = document.getElementById("chatLog");
      const p = document.createElement("p");
      p.textContent = txt;
      p.className = type;
      log.appendChild(p);
      log.scrollTop = log.scrollHeight;
    }

    function speakArabic(text) {
      const u = new SpeechSynthesisUtterance(text);
      u.lang = "ar-SA";
      window.speechSynthesis.speak(u);
    }

    async function askAvatar() {
      const q = document.getElementById("question").value.trim();
      if (!q) return;

      addMsg("ğŸ‘¤ Ø£Ù†Øª: " + q, "msg-user");
      document.getElementById("question").value = "";

      try {
        const res = await fetch("/ask", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ question: q })
        });

        const data = await res.json();

        addMsg("ğŸ¤– Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©: " + data.answer_ar, "msg-bot-ar");
        speakArabic(data.answer_ar);

        addMsg("ğŸŒ English: " + data.answer_en, "msg-bot-en");

      } catch {
        addMsg("ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù….", "msg-bot-ar");
      }
    }
  </script>

</head>

<body>

  <!-- Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© -->
  <div class="top-header">
    <img src="logo.jpg" alt="Conference Logo">
    <div>
      <div class="main-title">Chemistry Horizons â€“ SSC2 2026</div>
      <div class="sub-title">Jerash University â€¢ Second Scientific Conference in Chemistry</div>
    </div>
  </div>

  <div class="container">

    <!-- Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª -->
    <div class="icon-row">

      <div class="icon-card" onclick="showSection('attendance')">
        <div class="icon-emoji">ğŸ“</div>
        <strong>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ±</strong>
        <div style="font-size:13px;color:#9ca3af;">Ø§Ù„Ø¥Ø³Ù… â€“ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© â€“ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</div>
      </div>

      <div class="icon-card" onclick="showSection('avatar')">
        <div class="icon-emoji">ğŸ¤–</div>
        <strong>Ø£ÙØ§ØªØ§Ø± Ø§Ù„Ù…Ø¤ØªÙ…Ø±</strong>
        <div style="font-size:13px;color:#9ca3af;">ÙŠØªØ­Ø¯Ø« Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ù…Ø¹ ØªØ±Ø¬Ù…Ø© Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</div>
      </div>

      <div class="icon-card" onclick="showSection('schedule')">
        <div class="icon-emoji">ğŸ“…</div>
        <strong>Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¤ØªÙ…Ø±</strong>
        <div style="font-size:13px;color:#9ca3af;">Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ù„Ø³Ø§Øª ÙˆØ§Ù„Ù…Ø­Ø§ÙˆØ±</div>
      </div>

    </div>

    <!-- Ù‚Ø³Ù… 1 â€” Ø§Ù„Ø­Ø¶ÙˆØ± -->
    <div id="attendance" class="section">
      <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ±</h2>

      <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
      <input id="name" type="text">

      <label>Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©</label>
      <input id="university" type="text">

      <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
      <input id="email" type="email">

      <button onclick="registerAttendance()">ØªØ³Ø¬ÙŠÙ„</button>
      <div id="regMsg" class="msg"></div>
    </div>

    <!-- Ù‚Ø³Ù… 2 â€” Ø§Ù„Ø£ÙØ§ØªØ§Ø± -->
    <div id="avatar" class="section">
      <h2>Ø£ÙØ§ØªØ§Ø± Ø§Ù„Ù…Ø¤ØªÙ…Ø±</h2>

      <div class="avatar-wrapper">
        <div class="avatar-animated"></div>
        <div>
          <strong>Ø£Ø³ØªØ§Ø° Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ</strong>
          <div style="color:#94a3b8;">Ø§Ø³Ø£Ù„Ù†ÙŠ Ø¹Ù† Ø£ÙŠ Ø´ÙŠØ¡ ÙŠØ®Øµ Ø§Ù„Ù…Ø¤ØªÙ…Ø±.</div>
        </div>
      </div>

      <div id="chatLog" class="chat-log"></div>

      <input id="question" type="text" placeholder="Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ù‡Ù†Ø§...">
      <button onclick="askAvatar()">Ø¥Ø±Ø³Ø§Ù„</button>
    </div>

    <!-- Ù‚Ø³Ù… 3 â€” Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¤ØªÙ…Ø± -->
    <div id="schedule" class="section">
      <h2>Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¤ØªÙ…Ø±</h2>
      <table>
        <tr><th>Ø§Ù„ÙŠÙˆÙ…</th><th>Ø§Ù„ÙˆÙ‚Øª</th><th>Ø§Ù„Ø¬Ù„Ø³Ø©</th><th>Ø§Ù„Ù…ØªØ­Ø¯Ø«</th></tr>
        <tr><td>Ø§Ù„Ø£ÙˆÙ„</td><td>10:00</td><td>Ø§Ù„Ø§ÙØªØªØ§Ø­</td><td>Ø±Ø¦ÙŠØ³ Ø§Ù„Ù…Ø¤ØªÙ…Ø±</td></tr>
      </table>
    </div>

  </div>

</body>
</html>
